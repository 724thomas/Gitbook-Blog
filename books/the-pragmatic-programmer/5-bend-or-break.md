---
description: 5ìž¥ êµ¬ë¶€ëŸ¬ì§€ê±°ë‚˜ ë¶€ëŸ¬ì§€ê±°ë‚˜
---

# #5 Bend, or Break

### ðŸ’» ì‹¤ìš©ì£¼ì˜ í”„ë¡œê·¸ëž˜ë¨¸: Topic 28

#### ê²°í•©ë„ ì¤„ì´ê¸° (Reduce Coupling)

***

#### 1. í•µì‹¬ ê°œë… â€” â€œì„œë¡œ ëœ ì—°ê²°ë ìˆ˜ë¡ ë” ë°”ê¾¸ê¸° ì‰½ë‹¤â€

> â€œìš°ë¦¬ê°€ ì–´ë–¤ ê²ƒ í•˜ë‚˜ë§Œì„ ê³¨ë¼ë‚´ë ¤ í•´ë„,\
> ê·¸ê²ƒì´ ìš°ì£¼ì˜ ë‹¤ë¥¸ ëª¨ë“  ê²ƒê³¼ ì–½í˜€ ìžˆìŒì„ ê¹¨ë‹«ê²Œ ëœë‹¤.â€\
> â€” ì¡´ ë®¤ì–´(John Muir)

ê²°í•©ë„(Coupling)ê°€ ë†’ì€ ì½”ë“œëŠ” ë°”ê¾¸ê¸° ì–´ë µë‹¤.\
ê·¸ ì´ìœ ëŠ” **í•œ ë¶€ë¶„ì˜ ë³€í™”ê°€ ë‹¤ë¥¸ ë¶€ë¶„ê¹Œì§€ ì—°ì‡„ì ìœ¼ë¡œ ì˜í–¥ì„ ë¯¸ì¹˜ê¸° ë•Œë¬¸**ì´ë‹¤.\
ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ì—¬ëŸ¬ ëª¨ë“ˆì„ ë™ì‹œì— ìˆ˜ì •í•´ì•¼ í•œë‹¤ë©´, ì´ë¯¸ ê²°í•©ë„ê°€ ë†’ë‹¤ëŠ” ì‹ í˜¸ë‹¤.

> ðŸ’¡ ì¢‹ì€ ì„¤ê³„ëž€, **ë³€ê²½ì˜ íŒŒê¸‰ ë²”ìœ„ê°€ ì¢ì€ ì„¤ê³„**ë‹¤.

***

#### 2. ê°œë… ë¹„ìœ  â€” â€œë‹¨ë‹¨í•œ ì—°ê²° vs ìœ ì—°í•œ ì—°ê²°â€

* ë‹¨ë‹¨í•˜ê²Œ ì–½ížŒ êµ¬ì¡°(ì‚¼ê°í˜• ê·¸ë¬¼ë§)ëŠ” í•˜ë‚˜ë§Œ ë°”ê¿”ë„ ì „ì²´ê°€ í”ë“¤ë¦°ë‹¤.
* ë°˜ëŒ€ë¡œ ìœ ì—°í•˜ê²Œ ì—°ê²°ëœ êµ¬ì¡°(ì„ í˜• ì—°ê²°)ëŠ” ì¼ë¶€ë§Œ êµì²´ ê°€ëŠ¥í•˜ë‹¤.

ì†Œí”„íŠ¸ì›¨ì–´ë„ ë§ˆì°¬ê°€ì§€ë‹¤.\
ëª¨ë“ˆ ê°„ ì—°ê²°ì„ ìµœì†Œí™”í•´ **ë…ë¦½ì  ë³€ê²½ì´ ê°€ëŠ¥í•œ í˜•íƒœ**ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

***

#### 3. Tip 44 â€” â€œê²°í•©ë„ê°€ ë‚®ì€ ì½”ë“œëŠ” ë°”ê¾¸ê¸° ì‰½ë‹¤â€

ê²°í•©ë„ê°€ ë†’ì€ ì½”ë“œì—ì„œëŠ” ë‹¤ìŒ ë¬¸ì œê°€ ë°˜ë³µì ìœ¼ë¡œ ë°œìƒí•œë‹¤.

* **ì—°ì‡„ í˜¸ì¶œ(Train Wreck):** ê°ì²´ë¥¼ ê³„ì† ì ìœ¼ë¡œ ì—°ê²°í•˜ë©° ë‚´ë¶€ ìƒíƒœì— ì ‘ê·¼
* **ê¸€ë¡œë²Œ ìƒíƒœ(Global State):** ì „ì—­ ë³€ìˆ˜ë‚˜ ì‹±ê¸€í†¤ìœ¼ë¡œ ì¸í•´ ì˜ì¡´ì„± í™•ì‚°
* **ìƒì† ë‚¨ìš©:** ë¶€ëª¨ í´ëž˜ìŠ¤ ë³€ê²½ì´ ëª¨ë“  ìžì‹ì—ê²Œ íŒŒê¸‰

> ðŸ’¬ â€œí•œ ëª¨ë“ˆì˜ ë³€ê²½ì´ ì‹œìŠ¤í…œ ì „ì²´ë¡œ í¼ì§ˆ ë•Œ,\
> ê·¸ê±´ â€˜ê²°í•©ë„ í­ë°œâ€™ì´ë‹¤.â€

***

#### 4. ì‚¬ë¡€ â€” â€œì—´ì°¨ ì‚¬ê³ (Train Wreck)â€

```java
public void applyDiscount(customer, order_id, discount) {
    totals = customer.orders.find(order_id).getTotals();
    totals.grandTotal = totals.grandTotal - discount;
}
```

ì´ ì½”ë“œì˜ ë¬¸ì œ:

* ê³ ê°(Customer), ì£¼ë¬¸(Order), ì´í•©(Totals) ê°ì²´ê°€ **ì§ë ¬ë¡œ ì—°ê²°ë˜ì–´ ìžˆìŒ**
* ë³€ê²½ì´ ë°œìƒí•˜ë©´ ì „ë¶€ ìˆ˜ì •í•´ì•¼ í•¨
* í•œ ëª¨ë“ˆì˜ ìˆ˜ì •ì´ ì—¬ëŸ¬ ê°ì²´ì— ì˜ì¡´í•¨

***

#### 5. Tip 45 â€” â€œë¬»ì§€ ë§ê³  ë§í•˜ë¼ (Tell, Donâ€™t Ask)â€

ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœë¥¼ **ë¬»ê³  ì§ì ‘ ì¡°ìž‘í•˜ì§€ ë§ë¼.**\
ëŒ€ì‹  ê°ì²´ ìŠ¤ìŠ¤ë¡œì—ê²Œ **ë¬´ì—‡ì„ í•˜ë¼(Tell)** ê³  ìš”ì²­í•˜ë¼.

```java
// ìž˜ëª»ëœ ë°©ì‹
public void applyDiscount(customer, order_id, discount) {
    totals = customer.orders.find(order_id).getTotals();
    totals.applyDiscount(discount);
}

// ê°œì„ ëœ ë°©ì‹
public void applyDiscount(customer, order_id, discount) {
    customer.applyDiscountToOrder(order_id, discount);
}
```

ì´ ì›ì¹™ì€ **ìº¡ìŠí™”(encapsulation)** ë¥¼ ê°•í™”í•˜ê³ ,\
ì—°ì‡„ í˜¸ì¶œì„ ì—†ì• ë©°, **í•œ ê°ì²´ì˜ ì±…ìž„ì„ ëª…í™•ížˆ ë¶„ë¦¬**í•œë‹¤.

***

#### 6. ë°ë©”í…Œë¥´ ë²•ì¹™ (Law of Demeter, LoD)

> â€œë©”ì„œë“œëŠ” ì˜¤ì§ ê°€ê¹Œìš´ ì¹œêµ¬ì™€ë§Œ ì´ì•¼ê¸°í•´ì•¼ í•œë‹¤.â€

**LoD ì›ì¹™:**\
ë©”ì„œë“œ ë‚´ì—ì„œëŠ” ë‹¤ìŒ ëŒ€ìƒì—ê²Œë§Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìžˆë‹¤.

* ê°™ì€ í´ëž˜ìŠ¤ì˜ ë©”ì„œë“œ
* íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ê°ì²´
* ìžì‹ ì´ ì§ì ‘ ìƒì„±í•œ ê°ì²´
* ì „ì—­ ë³€ìˆ˜ (ì§€ì–‘)

ì¦‰,

```java
customer.getOrders().get(0).getTotals().getAmount();
```

ê°™ì€ ì½”ë“œëŠ” LoD ìœ„ë°˜ì´ë‹¤.

***

#### 7. Tip 46 â€” â€œë©”ì„œë“œ í˜¸ì¶œì„ ì–½ì§€ ë§ë¼â€

> â€œ`.` í•˜ë‚˜ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ì‹œìž‘ì´ë‹¤.â€

```java
// ðŸš« ë‚˜ìœ ë°©ì‹
amount = customer.orders.last().totals.amount;

// âœ… ê°œì„ ëœ ë°©ì‹
amount = customer.getLastOrderTotal();
```

ì´ì²˜ëŸ¼ **ì¤‘ê°„ ì ‘ê·¼ì„ ìº¡ìŠí™”**í•˜ë©´ ê²°í•©ë„ê°€ ì¤„ê³ \
ì½”ë“œ ë³€ê²½ ì‹œ ì˜í–¥ ë²”ìœ„ê°€ ìž‘ì•„ì§„ë‹¤.

***

#### 8. ê¸€ë¡œë²Œ ìƒíƒœì˜ í•´ì•…

ì „ì—­ ë³€ìˆ˜ë‚˜ ì‹±ê¸€í†¤ì€ **ëª¨ë“  ì½”ë“œê°€ ê³µìœ í•˜ëŠ” ê²°í•© ì§€ì **ì´ë‹¤.\
ì´ë¡œ ì¸í•´ í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ì›Œì§€ê³ , ë³€ê²½ ì‹œ ì‹œìŠ¤í…œ ì „ì²´ê°€ í”ë“¤ë¦°ë‹¤.

```java
// ë‚˜ìœ ì˜ˆì‹œ
Config.logLevel = "debug";
```

> ðŸ’¡ ì „ì—­ ë°ì´í„°ëŠ” â€œì½”ë“œì˜ ì§„í™íƒ•â€ì´ë‹¤.\
> ëª¨ë“  í•¨ìˆ˜ê°€ ì—‰ì¼œ ìžˆê¸° ë•Œë¬¸ì— ì–´ë””ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ì§€ ì¶”ì í•˜ê¸° ì–´ë µë‹¤.

***

#### 9. Tip 47 â€” â€œì „ì—­ ë°ì´í„°ë¥¼ í”¼í•˜ë¼â€

* ì „ì—­ ë³€ìˆ˜ ëŒ€ì‹  **ì˜ì¡´ì„± ì£¼ìž…(Dependency Injection)** ì„ ì‚¬ìš©í•˜ë¼.
* í…ŒìŠ¤íŠ¸ ì¤‘ì—ëŠ” **Mock ê°ì²´**ë¡œ ëŒ€ì²´í•˜ë¼.
* ì „ì—­ ë°ì´í„°ë¥¼ ì“¸ ìˆ˜ë°–ì— ì—†ë‹¤ë©´, **ì ‘ê·¼ì„ ì œí•œí•˜ëŠ” ëž˜í¼(wrapper)** ë¥¼ ë§Œë“¤ì–´ë¼.

***

#### 10. ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ë„ ì „ì—­ ë°ì´í„°ë‹¤

ë°ì´í„°ë² ì´ìŠ¤, íŒŒì¼ ì‹œìŠ¤í…œ, ì™¸ë¶€ API ë“±ì€ ëª¨ë‘ **ì „ì—­ ìƒíƒœ**ë¥¼ ê°€ì§„ ë¦¬ì†ŒìŠ¤ë‹¤.\
ì´ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” í•­ìƒ ëª…ì‹œì ìœ¼ë¡œ **ê´€ë¦¬ ê°ì²´ë¥¼ í†µí•´ ì ‘ê·¼**í•´ì•¼ í•œë‹¤.

ì˜ˆ:

```kotlin
val result = transactionManager.run {
    userRepository.save(user)
}
```

***

#### 11. Tip 48 â€” â€œì „ì—­ì ì´ì–´ì•¼ í•  ë§Œí¼ ì¤‘ìš”í•˜ë‹¤ë©´ APIë¡œ ê°ì‹¸ë¼â€

ì •ë§ ëª¨ë“  ê³³ì—ì„œ ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ì „ì—­ ë¦¬ì†ŒìŠ¤ë¼ë©´,\
ì§ì ‘ ë…¸ì¶œí•˜ì§€ ë§ê³  **ëª…ì‹œì ì¸ API ê³„ì¸µìœ¼ë¡œ ê°ì‹¸ë¼.**

> âœ… â€œì¤‘ìš”í•œ ì „ì—­ì€ ê°ì¶”ê³ , ê³µê°œí•  ë• ì œì–´í•˜ë¼.â€

***

#### 12. ìƒì†ì€ ê²°í•©ë„ë¥¼ ë†’ì¸ë‹¤

ìƒì†ì€ **ë¶€ëª¨ì˜ ë³€ê²½ì´ ìžì‹ì—ê²Œ ì¦‰ì‹œ ì „íŒŒë˜ëŠ” êµ¬ì¡°ì  ê²°í•©**ì´ë‹¤.\
ìƒì† ëŒ€ì‹  **ì¡°í•©(Composition)** ì„ ìš°ì„  ê³ ë ¤í•˜ë¼.

> ðŸ’¬ â€œìƒì†ì€ ìž¬ì‚¬ìš©ì˜ ë„êµ¬ê°€ ì•„ë‹ˆë¼ ê²°í•©ì˜ ë«ì´ë‹¤.â€

***

#### 13. ê²°í•©ë„ì˜ ìµœì¢… ê²°ë¡  â€” â€œê²°í•©ì€ ì‹œìŠ¤í…œì˜ ë¶€íŒ¨ë¥¼ ë¶€ë¥¸ë‹¤â€

ê²°í•©ë„ê°€ ë†’ì„ìˆ˜ë¡

* í…ŒìŠ¤íŠ¸ê°€ ì–´ë µê³ ,
* ë¦¬íŒ©í„°ë§ì´ ë¶ˆê°€ëŠ¥í•˜ë©°,
* ë³€ê²½ ë¹„ìš©ì´ í­ë°œí•œë‹¤.

ê²°êµ­ ìœ ì§€ë³´ìˆ˜ê°€ ë¶ˆê°€ëŠ¥í•œ ì‹œìŠ¤í…œìœ¼ë¡œ ì´ì–´ì§„ë‹¤.

***

> **â€œê²°í•©ì„ ì¤„ì—¬ë¼. ë¬»ì§€ ë§ê³  ë§í•˜ë¼.â€**\
> ëŠìŠ¨í•œ ì—°ê²°ì´ ìœ ì—°í•œ ì‹œìŠ¤í…œì„ ë§Œë“ ë‹¤.\
> &#xNAN;_&#x4C;ow coupling, high cohesion._
